---
// Demo page for drawer sidebar functionality
import BaseLayout from '../layouts/BaseLayout.astro';
import DrawerToggle from '../components/ui/DrawerToggle.astro';
import DrawerSidebar from '../components/drawer/DrawerSidebar.astro';
import ContentContainer from '../components/views/ContentContainer.astro';
---

<BaseLayout pageTitle="">
  <!-- Drawer Toggle Button -->
  <DrawerToggle />
  
  <!-- Drawer Sidebar -->
  <DrawerSidebar />
  
  <!-- Main Content -->
  <div id="main-content" class="drawer-demo-content" style="transition: margin-left 500ms cubic-bezier(0.4, 0, 0.2, 1);">
    <div class="mb-8">
      <h2 class="text-2xl font-semibold mb-4">æ¬¢è¿ä½¿ç”¨ä¾§è¾¹æ </h2>
      <p class="text-base-content/70 mb-4">
        ç‚¹å‡»å·¦ä¸Šè§’çš„èœå•å›¾æ ‡æ‰“å¼€ä¾§è¾¹æ ï¼Œä½“éªŒä»¥ä¸‹åŠŸèƒ½ï¼š
      </p>
      <ul class="list-disc list-inside space-y-2 text-base-content/70">
        <li>ğŸ“Š åšå®¢æ›´æ–°çƒ­åŠ›å›¾ - å¯è§†åŒ–æ‚¨çš„å†™ä½œæ´»è·ƒåº¦</li>
        <li>ğŸ’¬ Moment - ç±»ä¼¼å¾®ä¿¡æœ‹å‹åœˆçš„åŠ¨æ€å±•ç¤º</li>
        <li>ğŸ“ Article - æ–‡ç« å¡ç‰‡ç½‘æ ¼å¸ƒå±€</li>
        <li>ğŸ·ï¸ æ ‡ç­¾ç­›é€‰ - æ”¯æŒå¤šçº§æ ‡ç­¾ï¼Œç‚¹å‡»ç­›é€‰æ–‡ç« </li>
      </ul>
    </div>
    
    <!-- Content Container for switching views -->
    <ContentContainer />
  </div>
</BaseLayout>

<script>
  // Listen for drawer state changes and adjust content margin
  window.addEventListener('drawer-state-changed', ((event: CustomEvent) => {
    const { isOpen } = event.detail;
    const mainContent = document.getElementById('main-content');
    
    if (mainContent) {
      if (isOpen) {
        mainContent.style.marginLeft = '320px';
      } else {
        mainContent.style.marginLeft = '0';
      }
    }
  }) as EventListener);
</script>

<style>
  .drawer-demo-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
  }
</style>
