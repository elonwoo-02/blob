---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
const tags = [...new Set(allPosts.flatMap((post) => post.data.tags))].sort();
---

<BaseLayout pageTitle="标签索引" pageDescription="按标签浏览文章">
  <div style="display:flex; gap:0.6rem; flex-wrap:wrap;">
    {tags.map((tag) => (
      <a class="chip" href={`/tags/${tag}`}>#{tag}</a>
    ))}
  </div>
</BaseLayout>
