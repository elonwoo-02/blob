---
import '../styles/global.css';
import Dock from "../components/dock/ui/Dock.astro";
import ElonFloat from "../components/ElonFloat.astro";
import MobileDrawer from "../components/navigation/MobileDrawer.astro";
import Footer from "../components/shared/Footer.astro";

const {
  pageTitle,
  path = '/',
  mainClass = 'pt-10 md:pt-8',
  showElonFloat = true,
} = Astro.props;
---

<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width" />
  <meta name="generator" content={Astro.generator} />
  <title>{pageTitle}</title>
</head>

<body class="min-h-screen bg-base-100 text-base-content pb-24">
  <!-- Global navigation -->
  <MobileDrawer pageTitle={pageTitle} />
  <Dock pageTitle={pageTitle} currentPath={Astro.url.pathname} />

  <!-- Main content -->
  <main class={`container mx-auto px-4 py-4 ${mainClass}`}>
    <h1 class="text-4xl font-bold mb-8">{pageTitle}</h1>
    <slot />
  </main>

  <!-- Global footer -->
  <Footer />

  <!-- TODO: Add AIbot command to route AI assistant interactions via terminal. -->
  <!-- Floating mascot (hidden on home) -->
  {showElonFloat && <ElonFloat path={Astro.url.pathname} />}

  <script>
    import "../scripts/capacitor-runtime.js";
  </script>
</body>
</html>
