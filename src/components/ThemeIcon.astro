---
---
<button id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜" class="theme-toggle" type="button">
  <span>â˜€ï¸</span>
  <span>ğŸŒ™</span>
</button>

<script is:inline>
  const root = document.documentElement;
  const toggle = document.getElementById('themeToggle');
  const key = 'theme';
  const initTheme = () => {
    const saved = localStorage.getItem(key);
    if (saved === 'light' || saved === 'dark') return saved;
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
  };

  const apply = (theme) => {
    root.setAttribute('data-theme', theme);
    localStorage.setItem(key, theme);
    toggle?.setAttribute('data-theme', theme);
  };

  apply(initTheme());
  toggle?.addEventListener('click', () => {
    const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    apply(next);
  });
</script>

<style>
  .theme-toggle {
    border: 1px solid var(--border);
    border-radius: 999px;
    background: var(--surface-soft);
    color: var(--text);
    display: inline-flex;
    gap: 0.35rem;
    align-items: center;
    padding: 0.25rem 0.6rem;
    cursor: pointer;
  }
</style>
